<!DOCTYPE html>
<html>
  <head>
    <title>Lake Norman — Present Day</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene>
      <!-- Assets -->
      <a-assets>
        <video
          id="video360"
          src="Image_to_Natural_Video_Generation.mp4"
          loop
          muted
          playsinline
          crossorigin="anonymous">
        </video>
      </a-assets>

      <!-- 360° Background -->
      <a-videosphere src="#video360" rotation="0 -90 0"></a-videosphere>

      <!-- BOX 1 (center) -->
      <a-box
        id="box1"
        position="0 1.6 -3"
        color="#D2691E"
        depth="0"
        height="0.4"
        width="0.4">
      </a-box>

      <!-- TEXT 1 -->
      <a-text
        id="text1"
        value="The world has changed.
Where fire once fell, leaves now burn in color.
Lake Norman lies still — a mirror of gold and red."
        position="0 2.0 -3"
        align="center"
        color="#FFF8DC"
        width="4"
        visible="false"
        scale="0.5 0.5 0.5"
        look-at="[camera]">
      </a-text>

      <!-- BOX 2 (to the right, further out) -->
      <a-box
        id="box2"
        position="2.5 1.6 -3"
        color="#FF8C00"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

      <!-- TEXT 2 -->
      <a-text
        id="text2"
        value="The air carries whispers of geese and the scent of pine.
What once roared with chaos now hums with life."
        position="2.5 1 -3"
        align="center"
        color="#FFF8DC"
        width="4"
        visible="false"
        scale="0.75 0.75 0.75"
        look-at="[camera]">
      </a-text>

      <!-- BOX 3 (behind user, 180° turn) -->
      <a-box
        id="box3"
        position="0 1.6 3"
        color="#4682B4"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

    <!-- TEXT 3 -->
      <a-text
        id="text3"
        value="Yet beneath these calm waters lies the same ancient bedrock — a memory of fire, of endings, of beginnings."
        position="0 2.0 3"
        align="center"
        color="#FFF8DC"
        width="4"
        visible="false"
        scale="0.75 0.75 0.75"
        look-at="[camera]">
      </a-text>



      <!-- Camera + cursor -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-entity 
          cursor="fuse: false"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
          material="color: white; shader: flat">
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      // Select elements
      const box1 = document.querySelector('#box1');
      const box2 = document.querySelector('#box2');
      const box3 = document.querySelector('#box3');
      const text1 = document.querySelector('#text1');
      const text2 = document.querySelector('#text2');
      const text3 = document.querySelector('#text3');
      const video = document.querySelector('#video360');

      // Start video automatically
      window.addEventListener('load', () => {
        video.play().catch(err => console.warn('Autoplay prevented:', err));
      });

      // Box 1 interaction
      box1.addEventListener('mouseenter', () => {
        text1.setAttribute('visible', true);
        box1.setAttribute('animation', 'property: scale; to: 0.5 0.5 0.5; dur: 300; dir: alternate; loop: 2');
        setTimeout(() => box2.setAttribute('visible', true), 1500);
      });
      box1.addEventListener('mouseleave', () => text1.setAttribute('visible', false));

      // Box 2 interaction
      box2.addEventListener('mouseenter', () => {
        text2.setAttribute('visible', true);
        box2.setAttribute('animation', 'property: scale; to: 0.5 0.5 0.5; dur: 300; dir: alternate; loop: 2');
        setTimeout(() => box3.setAttribute('visible', true), 1500);
      });
      box2.addEventListener('mouseleave', () => text2.setAttribute('visible', false));

      // Box 3 interaction
      box3.addEventListener('mouseenter', () => {
      text3.setAttribute('visible', true);
      box3.setAttribute('animation', 'property: scale; to: 0.5 0.5 0.5; dur: 300; dir: alternate; loop: 2');
      });
      box3.addEventListener('mouseleave', () => text3.setAttribute('visible', false));

    </script>
  </body>
</html>
