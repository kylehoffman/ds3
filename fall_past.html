<!DOCTYPE html>
<html>
  <head>
    <title>Lake Norman VR Experience</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene>
      <!-- Assets -->
      <a-assets>
        <video
          id="video360"
          src="Video_Generation_From_Image.mp4"
          autoplay
          loop
          muted
          playsinline
          crossorigin="anonymous">
        </video>
      </a-assets>

      <!-- 360Â° Background -->
      <a-videosphere src="#video360" rotation="0 -90 0"></a-videosphere>

      <!-- BOX 1 -->
      <a-box
        id="box1"
        position="0 1.6 -3"
        color="#A52A2A"
        depth="0"
        height="0.4"
        width="0.4">
      </a-box>

      <!-- TEXT 1 -->
      <a-text
        id="text1"
        value="Welcome to Lake Norman in the Fall, 66 million years ago. Look around to see what things were like."
        position="0 2.0 -3"
        align="center"
        color="#FFF"
        width="4"
        visible="false"
        scale="0.5 0.5 0.5">
        look-at="[camera]">
      </a-text>

      <!-- BOX 2 (hidden initially) -->
      <a-box
        id="box2"
        position="1.5 1.6 -2"
        color="#4682B4"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

      <!-- TEXT 2 -->
      <a-text
        id="text2"
        value="This region was full of lush forests, rivers, and early life forms thriving in a warm climate."
        position="1.5 1 -2"
        align="center"
        color="#FFF"
        width="4"
        visible="false"
        scale="0.25 0.25 0.25">
        look-at="[camera]">
      </a-text>

      <!-- BOX 3 (hidden initially) -->
      <a-box
        id="box3"
        position="0 1.6 3"
        color="#228B22"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

      <!-- TEXT 3 -->
      <a-text
        id="text3"
        value="Then came a massive extinction event that forever changed Lake Norman's landscape."
        position="0 2.0 3"
        align="center"
        color="#FFF"
        width="4"
        visible="false"
        scale="0.25 0.25 0.25">
        look-at="[camera]">
      </a-text>

      <!-- Camera + cursor -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-entity 
          cursor="fuse: false"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
          material="color: white; shader: flat">
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      // Select elements
      const box1 = document.querySelector('#box1');
      const box2 = document.querySelector('#box2');
      const box3 = document.querySelector('#box3');
      const text1 = document.querySelector('#text1');
      const text2 = document.querySelector('#text2');
      const text3 = document.querySelector('#text3');

      // Box 1 interaction
      box1.addEventListener('mouseenter', () => {
        text1.setAttribute('visible', true);
        setTimeout(() => {
          box2.setAttribute('visible', true);
        }, 1500);
      });
      box1.addEventListener('mouseleave', () => text1.setAttribute('visible', false));

      // Box 2 interaction
      box2.addEventListener('mouseenter', () => {
        text2.setAttribute('visible', true);
        setTimeout(() => {
          box3.setAttribute('visible', true);
        }, 1500);
      });
      box2.addEventListener('mouseleave', () => text2.setAttribute('visible', false));

      // Box 3 interaction
      box3.addEventListener('mouseenter', () => text3.setAttribute('visible', true));
      box3.addEventListener('mouseleave', () => text3.setAttribute('visible', false));

      // Ensure video playback on click
      document.body.addEventListener('click', () => {
        const video = document.querySelector('#video360');
        if (video.paused) video.play();
      });
    </script>
  </body>
</html>
