<!DOCTYPE html>
<html>
  <head>
    <title>Lake Norman VR Experience</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene>
      <!-- Assets -->
      <a-assets>
        <video
          id="video360"
          src="Video_Generation_From_Image.mp4"
          autoplay
          loop
          muted
          playsinline
          crossorigin="anonymous">
        </video>
      </a-assets>

      <!-- 360° Background -->
      <a-videosphere src="#video360" rotation="0 -90 0"></a-videosphere>

      <!-- BOX 1 (center) -->
      <a-box
        id="box1"
        position="0 1.6 -3"
        color="#A52A2A"
        depth="0"
        height="0.4"
        width="0.4">
      </a-box>

      <!-- TEXT 1 -->
      <a-entity id="text1Wrapper" look-at="[camera]" visible="false">
        <a-text
          id="text1"
          value="The sky is on fire.\nMeteors scream through the clouds, tearing the earth apart.\nYou’re standing on the shores of ancient Lake Norman — moments before extinction."
          position="0 2.0 -3"
          align="center"
          color="#FFF"
          width="4"
          scale="0.5 0.5 0.5">
        </a-text>
      </a-entity>

      <!-- BOX 2 (blue, further right) -->
      <a-box
        id="box2"
        position="2.5 1.6 -3"
        color="#4682B4"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

      <!-- TEXT 2 -->
      <a-entity id="text2Wrapper" look-at="[camera]" visible="false">
        <a-text
          id="text2"
          value="The ground shakes as the impact ripples across the land.\nForests ignite. Dinosaurs collapse in clouds of ash.\nThe Age of Reptiles ends in fire."
          position="2.5 1 -3"
          align="center"
          color="#FFF"
          width="4"
          scale="0.7 0.7 0.7">
        </a-text>
      </a-entity>

      <!-- BOX 3 (green, further left) -->
      <a-box
        id="box3"
        position="-2.5 1.6 -3"
        color="#228B22"
        depth="0"
        height="0.4"
        width="0.4"
        visible="false">
      </a-box>

      <!-- TEXT 3 -->
      <a-entity id="text3Wrapper" look-at="[camera]" visible="false">
        <a-text
          id="text3"
          value="The firestorm fades.\nAsh drifts across a silent lake.\nWhat was once alive now sleeps beneath the earth."
          position="-2.5 2.0 -3"
          align="center"
          color="#FFF"
          width="4"
          scale="0.7 0.7 0.7">
        </a-text>
      </a-entity>

      <!-- Camera + cursor -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-entity 
          cursor="fuse: false"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
          material="color: white; shader: flat">
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      // Select elements
      const box1 = document.querySelector('#box1');
      const box2 = document.querySelector('#box2');
      const box3 = document.querySelector('#box3');
      const text1Wrapper = document.querySelector('#text1Wrapper');
      const text2Wrapper = document.querySelector('#text2Wrapper');
      const text3Wrapper = document.querySelector('#text3Wrapper');

      // Box 1 interaction
      box1.addEventListener('mouseenter', () => {
        text1Wrapper.setAttribute('visible', true);
        setTimeout(() => {
          box2.setAttribute('visible', true);
        }, 1500);
      });
      box1.addEventListener('mouseleave', () => text1Wrapper.setAttribute('visible', false));

      // Box 2 interaction
      box2.addEventListener('mouseenter', () => {
        text2Wrapper.setAttribute('visible', true);
        setTimeout(() => {
          box3.setAttribute('visible', true);
        }, 1500);
      });
      box2.addEventListener('mouseleave', () => text2Wrapper.setAttribute('visible', false));

      // Box 3 interaction
      box3.addEventListener('mouseenter', () => text3Wrapper.setAttribute('visible', true));
      box3.addEventListener('mouseleave', () => text3Wrapper.setAttribute('visible', false));

      // Ensure video playback on click
      window.addEventListener('load', () => {
        const video = document.querySelector('#video360');
        video.play().catch(err => console.warn('Autoplay prevented:', err));
    });
    </script>
  </body>
</html>
